# genv-ex

A lightweight Node.js utility to generate a `.env.example` file from a `.env` file, replacing sensitive values with placeholders. Ideal for sharing environment variable templates in Node.js and full-stack projects.

## Features

- Automatically extracts variable names from `.env`.
- Supports custom input/output files and placeholders via CLI.
- Simple API for programmatic use.

## Installation

Install globally for CLI use:

```bash
npm install -g genv-ex

```

Or locally in a project:

```bash
npm install genv-ex

```

## Usage

The `genv-ex` package can be used either via the command-line interface (CLI) for quick generation or programmatically in your Node.js code for integration into scripts or applications.

### CLI Usage

Run `genv-ex` in your project directory to generate a `.env.example` file from `.env` with default settings:

```bash
npx genv-ex

```

This reads `.env`, replaces values with `<YOUR_VALUE_HERE>`, and creates `.env.example`.

### Custom Options

Customize the input file, output file, and placeholder using CLI flags:

```bash
npx genv-ex --input .env.prod --output .env.prod.example --placeholder "ADD_VALUE"

```

Or use short flags:

```bash
npx genv-ex -i .env.prod -o .env.prod.example -p "ADD_VALUE"

```

### View Help

See all options and examples:

```bash
npx genv-ex --help

```

**Example Output**

For a `.env` file like:

```
API_KEY=secret123
DATABASE_URL=mongodb://localhost:27017

```

Running `npx genv-ex` generates `.env.example`:

```
# Generated by genv-ex
API_KEY=<YOUR_VALUE_HERE>
DATABASE_URL=<YOUR_VALUE_HERE>

```

### Add to Package Scripts

Add a script to your `package.json` for convenience:

```json
{
  "scripts": {
    "gen-env": "genv-ex"
  }
}
```

Run with:

```bash
npm run gen-env

```

### Programmatic Usage

Use `genv-ex` in your Node.js code to generate `.env.example` programmatically. The package supports both CommonJS (`require`) and ES Modules (`import`).

### ES Modules (ESM)

If your project uses ES Modules (`"type": "module"` in `package.json`), use `import`:

```jsx
// index.js
import generateEnvExample from "genv-ex";

// Generate with defaults (.env -> .env.example)
generateEnvExample();

// Or with custom options
generateEnvExample({
  envFilePath: ".env.prod",
  outputFilePath: ".env.prod.example",
  placeholder: "ADD_YOUR_VALUE",
});
```

**Project Setup**

Ensure your `package.json` includes:

```json
{
  "type": "module",
  "dependencies": {
    "genv-ex": "^1.0.0"
  }
}
```

Run:

```bash
node index.js

```

### CommonJS

If your project uses CommonJS, use `require`:

```jsx
// index.js
const generateEnvExample = require("genv-ex");

// Generate with defaults
generateEnvExample();

// Or with custom options
generateEnvExample({
  envFilePath: ".env.prod",
  outputFilePath: ".env.prod.example",
  placeholder: "ADD_YOUR_VALUE",
});
```

Run:

```bash
node index.js

```

### Example Output

For the same `.env`:

```
API_KEY=secret123
DATABASE_URL=mongodb://localhost:27017

```

The code generates `.env.example`:

```
# Generated by genv-ex
API_KEY=<YOUR_VALUE_HERE>
DATABASE_URL=<YOUR_VALUE_HERE>

```

### Notes

- **Requirements**: A `.env` file must exist in the project root (or the specified `envFilePath`). If itâ€™s missing, the tool will log an error and exit gracefully.
- **Error Handling**: Empty or malformed `.env` files are handled with clear console messages.
- **Compatibility**: Works in both CommonJS and ESM projects. Use `import` in ESM projects or `require` in CommonJS projects without modifying the package.

---
